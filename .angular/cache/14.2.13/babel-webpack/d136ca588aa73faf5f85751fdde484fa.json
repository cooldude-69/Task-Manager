{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction ChangePasswordComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\n\nexport class ChangePasswordComponent {\n  constructor(fb, router) {\n    this.fb = fb;\n    this.router = router;\n    this.errorMessage = '';\n    this.changePasswordForm = this.fb.group({\n      oldPassword: ['', Validators.required],\n      newPassword: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['', Validators.required]\n    }, {\n      validators: this.passwordsMatchValidator\n    });\n  }\n\n  onSubmit() {\n    if (this.changePasswordForm.invalid) {\n      return;\n    } // Check if passwords match in the validator itself, so here we can assume they match\n\n\n    const payload = {\n      oldPassword: this.changePasswordForm.value.oldPassword,\n      newPassword: this.changePasswordForm.value.newPassword\n    }; // Simulate API call to change password\n    // Replace with actual HTTP POST request to your backend\n    // For demonstration, we're using a timeout to mimic async behavior\n\n    setTimeout(() => {\n      // Simulate success\n      alert('Password changed successfully'); // Redirect to login page\n\n      this.router.navigate(['/login']);\n    }, 1000); // 1 second delay\n    // In real application, uncomment the below HTTP POST request code and remove setTimeout\n    // this.http.post('/api/change-password', payload).subscribe(\n    //   response => {\n    //     alert('Password changed successfully');\n    //     this.router.navigate(['/login']);\n    //   },\n    //   error => {\n    //     this.errorMessage = 'Error changing password';\n    //   }\n    // );\n  }\n\n  passwordsMatchValidator(formGroup) {\n    const newPassword = formGroup.get('newPassword')?.value;\n    const confirmPassword = formGroup.get('confirmPassword')?.value;\n\n    if (newPassword !== confirmPassword) {\n      formGroup.get('confirmPassword')?.setErrors({\n        passwordsMismatch: true\n      });\n    } else {\n      formGroup.get('confirmPassword')?.setErrors(null);\n    }\n  }\n\n}\n\nChangePasswordComponent.ɵfac = function ChangePasswordComponent_Factory(t) {\n  return new (t || ChangePasswordComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nChangePasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChangePasswordComponent,\n  selectors: [[\"app-change-password\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"change-password-container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"oldPassword\"], [\"type\", \"password\", \"id\", \"oldPassword\", \"formControlName\", \"oldPassword\", \"required\", \"\"], [\"for\", \"newPassword\"], [\"type\", \"password\", \"id\", \"newPassword\", \"formControlName\", \"newPassword\", \"required\", \"\"], [\"for\", \"confirmPassword\"], [\"type\", \"password\", \"id\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", \"required\", \"\"], [\"type\", \"submit\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"error-message\"]],\n  template: function ChangePasswordComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Change Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function ChangePasswordComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Old Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 5);\n      i0.ɵɵtext(10, \"New Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 2)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Confirm New Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 9);\n      i0.ɵɵtext(17, \"Change Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, ChangePasswordComponent_div_18_Template, 2, 1, \"div\", 10);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.changePasswordForm);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i3.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".change-password-container[_ngcontent-%COMP%] {\\r\\n    max-width: 400px;\\r\\n    margin: 50px auto;\\r\\n    padding: 20px;\\r\\n    background: #fff;\\r\\n    border-radius: 28px;\\r\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);\\r\\n  }\\r\\n  \\r\\n  .change-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  .form-group[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 15px;\\r\\n  }\\r\\n  \\r\\n  .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-bottom: 5px;\\r\\n  }\\r\\n  \\r\\n  .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 8px;\\r\\n    box-sizing: border-box;\\r\\n    border-radius: 25px;\\r\\n  }\\r\\n  \\r\\n  button[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 10px;\\r\\n    background: #2161f3;\\r\\n    color: #fff;\\r\\n    border: none;\\r\\n    border-radius: 24px;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n  \\r\\n  button[_ngcontent-%COMP%]:hover {\\r\\n    background: #1849a3;\\r\\n  }\\r\\n  \\r\\n  .error-message[_ngcontent-%COMP%] {\\r\\n    margin-top: 15px;\\r\\n    color: red;\\r\\n    text-align: center;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZS1wYXNzd29yZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQix1Q0FBdUM7RUFDekM7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsY0FBYztJQUNkLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLGtCQUFrQjtFQUNwQiIsImZpbGUiOiJjaGFuZ2UtcGFzc3dvcmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jaGFuZ2UtcGFzc3dvcmQtY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBtYXJnaW46IDUwcHggYXV0bztcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjhweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC42KTtcclxuICB9XHJcbiAgXHJcbiAgLmNoYW5nZS1wYXNzd29yZC1jb250YWluZXIgaDIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tZ3JvdXAgbGFiZWwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLWdyb3VwIGlucHV0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMjE2MWYzO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyNHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICBcclxuICBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzE4NDlhMztcclxuICB9XHJcbiAgXHJcbiAgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gICJdfQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAiCA,UAAjC,QAAmD,gBAAnD;;;;;;;;ICcMC;IAAgDA;IAAkBA;;;;;IAAlBA;IAAAA;;;;ADPtD,OAAM,MAAOC,uBAAP,CAA8B;EAIlCC,YAAoBC,EAApB,EAA6CC,MAA7C,EAA2D;IAAvC;IAAyB;IAF7C,oBAAuB,EAAvB;IAGE,KAAKC,kBAAL,GAA0B,KAAKF,EAAL,CAAQG,KAAR,CAAc;MACtCC,WAAW,EAAE,CAAC,EAAD,EAAKR,UAAU,CAACS,QAAhB,CADyB;MAEtCC,WAAW,EAAE,CAAC,EAAD,EAAK,CAACV,UAAU,CAACS,QAAZ,EAAsBT,UAAU,CAACW,SAAX,CAAqB,CAArB,CAAtB,CAAL,CAFyB;MAGtCC,eAAe,EAAE,CAAC,EAAD,EAAKZ,UAAU,CAACS,QAAhB;IAHqB,CAAd,EAIvB;MAAEI,UAAU,EAAE,KAAKC;IAAnB,CAJuB,CAA1B;EAKD;;EAEDC,QAAQ;IACN,IAAI,KAAKT,kBAAL,CAAwBU,OAA5B,EAAqC;MACnC;IACD,CAHK,CAKN;;;IACA,MAAMC,OAAO,GAAG;MACdT,WAAW,EAAE,KAAKF,kBAAL,CAAwBY,KAAxB,CAA8BV,WAD7B;MAEdE,WAAW,EAAE,KAAKJ,kBAAL,CAAwBY,KAAxB,CAA8BR;IAF7B,CAAhB,CANM,CAWN;IACA;IACA;;IACAS,UAAU,CAAC,MAAK;MACd;MACAC,KAAK,CAAC,+BAAD,CAAL,CAFc,CAGd;;MACA,KAAKf,MAAL,CAAYgB,QAAZ,CAAqB,CAAC,QAAD,CAArB;IACD,CALS,EAKP,IALO,CAAV,CAdM,CAmBI;IAEV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACD;;EAEDP,uBAAuB,CAACQ,SAAD,EAAqB;IAC1C,MAAMZ,WAAW,GAAGY,SAAS,CAACC,GAAV,CAAc,aAAd,GAA8BL,KAAlD;IACA,MAAMN,eAAe,GAAGU,SAAS,CAACC,GAAV,CAAc,iBAAd,GAAkCL,KAA1D;;IAEA,IAAIR,WAAW,KAAKE,eAApB,EAAqC;MACnCU,SAAS,CAACC,GAAV,CAAc,iBAAd,GAAkCC,SAAlC,CAA4C;QAAEC,iBAAiB,EAAE;MAArB,CAA5C;IACD,CAFD,MAEO;MACLH,SAAS,CAACC,GAAV,CAAc,iBAAd,GAAkCC,SAAlC,CAA4C,IAA5C;IACD;EACF;;AAtDiC;;;mBAAvBtB,yBAAuBD;AAAA;;;QAAvBC;EAAuBwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCTpC7B,+BAAuC,CAAvC,EAAuC,IAAvC;MACQA;MAAeA;MACnBA;MAAuCA;QAAA,OAAY8B,cAAZ;MAAsB,CAAtB;MACrC9B,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MAC2BA;MAAYA;MACrCA;MACFA;MACAA,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MAC2BA;MAAYA;MACrCA;MACFA;MACAA,gCAAwB,EAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MAC+BA;MAAoBA;MACjDA;MACFA;MACAA;MAAsBA;MAAeA;MACrCA;MACFA;;;;MAfMA;MAAAA;MAcEA;MAAAA","names":["Validators","i0","ChangePasswordComponent","constructor","fb","router","changePasswordForm","group","oldPassword","required","newPassword","minLength","confirmPassword","validators","passwordsMatchValidator","onSubmit","invalid","payload","value","setTimeout","alert","navigate","formGroup","get","setErrors","passwordsMismatch","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Ng server\\full-stack-project\\frontend\\src\\app\\components\\change-password\\change-password.component.ts","D:\\Ng server\\full-stack-project\\frontend\\src\\app\\components\\change-password\\change-password.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrls: ['./change-password.component.css']\n})\nexport class ChangePasswordComponent {\n  changePasswordForm: FormGroup;\n  errorMessage: string = '';\n\n  constructor(private fb: FormBuilder, private router: Router) {\n    this.changePasswordForm = this.fb.group({\n      oldPassword: ['', Validators.required],\n      newPassword: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['', Validators.required]\n    }, { validators: this.passwordsMatchValidator });\n  }\n\n  onSubmit() {\n    if (this.changePasswordForm.invalid) {\n      return;\n    }\n\n    // Check if passwords match in the validator itself, so here we can assume they match\n    const payload = {\n      oldPassword: this.changePasswordForm.value.oldPassword,\n      newPassword: this.changePasswordForm.value.newPassword\n    };\n\n    // Simulate API call to change password\n    // Replace with actual HTTP POST request to your backend\n    // For demonstration, we're using a timeout to mimic async behavior\n    setTimeout(() => {\n      // Simulate success\n      alert('Password changed successfully');\n      // Redirect to login page\n      this.router.navigate(['/login']);\n    }, 1000); // 1 second delay\n\n    // In real application, uncomment the below HTTP POST request code and remove setTimeout\n    // this.http.post('/api/change-password', payload).subscribe(\n    //   response => {\n    //     alert('Password changed successfully');\n    //     this.router.navigate(['/login']);\n    //   },\n    //   error => {\n    //     this.errorMessage = 'Error changing password';\n    //   }\n    // );\n  }\n\n  passwordsMatchValidator(formGroup: FormGroup) {\n    const newPassword = formGroup.get('newPassword')?.value;\n    const confirmPassword = formGroup.get('confirmPassword')?.value;\n\n    if (newPassword !== confirmPassword) {\n      formGroup.get('confirmPassword')?.setErrors({ passwordsMismatch: true });\n    } else {\n      formGroup.get('confirmPassword')?.setErrors(null);\n    }\n  }\n}\n","<div class=\"change-password-container\">\n    <h2>Change Password</h2>\n    <form [formGroup]=\"changePasswordForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"form-group\">\n        <label for=\"oldPassword\">Old Password</label>\n        <input type=\"password\" id=\"oldPassword\" formControlName=\"oldPassword\" required>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"newPassword\">New Password</label>\n        <input type=\"password\" id=\"newPassword\" formControlName=\"newPassword\" required>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"confirmPassword\">Confirm New Password</label>\n        <input type=\"password\" id=\"confirmPassword\" formControlName=\"confirmPassword\" required>\n      </div>\n      <button type=\"submit\">Change Password</button>\n      <div *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n    </form>\n  </div>\n  "]},"metadata":{},"sourceType":"module"}